<div align="center">
  <img src="frontend/src/lib/assets/favicon.svg" alt="Lunacia Dungeon Logo" width="120" />
  <h1>Lunacia Dungeon</h1>
  <p>
    <b>On-chain enabled, off-chain played dungeon-runner where gameplay powers a sustainable DeFi economy.</b>
  </p>
</div>

---

## ğŸ“– Overview

**Lunacia Dungeon** blends Web2-smooth gameplay with verifiable Web3 settlement. Players buy a character to enter the dungeon, and that purchase automatically routes into a **Uniswap v4 Hook**, adding real liquidity to the pool.

The game runs off-chain using **Yellow Channels** for fast, gas-less, low-latency gameplay. Final results are settled on-chain for fairness. If a player beats the dungeon, they keep their character and receive a payout in ERC-20 tokens, backed by the liquidity generated from new entrants.

> [!NOTE]
> This project demonstrates a sustainable circular economy: **Gameplay â†’ Liquidity â†’ Stable Rewards â†’ More Players â†’ More Liquidity**.

## âœ¨ Features

- **âš¡ Fast Gameplay**: Off-chain execution via Yellow Channels ensures low latency and gas-less moves.
- **ğŸ›¡ï¸ Verifiable Fairness**: Final game results are settled on-chain.
- **ğŸ’° Sustainable Economy**: Entry fees provide real liquidity to Uniswap v4 pools.
- **ğŸ”„ Circular Rewards**: Winners are paid from the liquidity generated by new players.
- **ğŸ§™â€â™‚ï¸ Character Ownership**: Players keep their characters upon victory.

## ğŸ—ï¸ Architecture

The project consists of two main components:

1.  **Frontend (`frontend/`)**: A SvelteKit application using Phaser and `rot-js` for the dungeon crawler interface.
2.  **Backend (`backend/`)**: A TypeScript game server using Bun and WebSockets to handle game logic and state.

## ğŸš€ Getting Started

### Prerequisites

- [Node.js](https://nodejs.org/) (v18+)
- [Bun](https://bun.sh/) (v1.0+)

### Installation

1.  **Clone the repository:**
    ```bash
    git clone <repository-url>
    cd lunacia-dungeon
    ```

2.  **Install Backend Dependencies:**
    ```bash
    cd backend
    bun install
    ```

3.  **Install Frontend Dependencies:**
    ```bash
    cd ../frontend
    npm install
    ```

### Running the Project

To run the full stack, you will need two terminal windows.

**1. Start the Game Server (Backend):**

```bash
cd backend
bun run index.ts
```

**2. Start the Web Application (Frontend):**

```bash
cd frontend
npm run dev
```

> [!TIP]
> Ensure the backend is running before starting the frontend to establish the WebSocket connection.

## ğŸ› ï¸ Tech Stack

- **Frontend**: [SvelteKit](https://kit.svelte.dev/), [Phaser](https://phaser.io/), [TailwindCSS](https://tailwindcss.com/)
- **Backend**: [Bun](https://bun.sh/), [TypeScript](https://www.typescriptlang.org/), [WebSockets](https://github.com/websockets/ws)
- **Blockchain**: [Uniswap v4](https://uniswap.org/), [Yellow Network](https://www.yellow.org/), [Ethers.js](https://docs.ethers.org/)
